<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<title>智能社 - www.zhinengshe.com</title>
<style>
*{ margin:0; padding:0; list-style:none; font-family: "微软雅黑","张海山锐线体简"}
.drag{width:100px;height:100px;background:red;position: absolute;left:0;top:0;}
</style>
<script src="jquery-1.7.2.js"></script>
<script>

$.fn.drag=function(){
	
	this.each(function(index,element){
		$(element).mousedown(function(ev){
			var disX=ev.clientX-$(element).position().left;
			var disY=ev.clientY-$(element).position().top;
			
			//var _this = $(element);
			$(document).mousemove(fnMove);
			function fnMove(ev){
				$(element).css({
					'left':	ev.clientX-disX+'px',
					'top':	ev.clientY-disY+'px'	
				});
			}
			$(document).mouseup(fnUp);
			function fnUp(){
				$(document).unbind('mousemove',fnMove);
				$(document).unbind('mouseup',fnUp);	
				
				element.releaseCapture && element.releaseCapture();
			}
			element.setCapture && element.setCapture();
			return false;
		});
	});	
};

$(function(){
	$('.drag').drag();	
});
</script>
</head>

<body>
23423234<br>
23423234
<div class="drag"></div>
<div class="drag"></div>
<div class="drag"></div>
<div class="drag"></div>
<div class="drag"></div>

</body>
</html>
